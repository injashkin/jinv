---
title: Создание базы данных в облачном сервисе MongoDB Atlas
description: Руководство по созданию бесплатного экземпляра базы данных MongoDB в сервисе MongoDB Atlas
date: 2020-01-07
--- 

Эта статья переведена с ресурса https://www.freecodecamp.org/learn/apis-and-microservices/mongodb-and-mongoose/.

MongoDB Atlas--глобальный облачный сервис баз данных для приложений. С помощью MongoDB Atlas можно развернуть управляемую базу данных MongoDB на таких облачных сервисах, как [AWS](https://aws.amazon.com/ru/), [Azure](https://azure.microsoft.com/ru-ru/) или [GCP](https://cloud.google.com/). С MongoDB Atlas базы данных создаются быстрее, и меньше тратится времени на их управление. 

MongoDB Atlas--платформа MongoDB Database-as-a-Service, это означает, что сервис автоматически настраивает и размещает базу данных, а единственное, что требуется сделать пользователю--это заполнить базу данных содержимым. MongoDB Atlas снимает с плеч клиентов нагрузку по управлению базами NoSQL и дает сфокусироваться на приложениях. Это руководство покажет, как настроить MongoDB в MongoDB Atlas:

- Создание учетной записи в MongoDB Atlas.
- Создание нового кластера.
- Создание нового пользователя в базе данных.
- Создание белого списка IP-адресов.
- Подключение к кластеру.

## Создание учетной записи в MongoDB Atlas.

Для получения учетной записи перейдите на страницу [MongoDB Atlas](https://www.mongodb.com/cloud/atlas). 

- На странице сайта найдите и нажмите кнопку [Start free](https://www.mongodb.com/cloud/atlas/register), чтобы открыть страницу регистрации.
- В регистрационной форме заполните поля информацией и нажмите кнопку `Get started free`. Откроется страница с тарифами.
- В блоке `Shared Clasters` с тарифом Free нажмите на кнопку `Create a cluster`. Откроется страница `Create a Starter Cluster`.

## Создание нового кластера

- На странице `Create a Starter Cluster` создайте первый кластер. Для этого в каждом свертке выполните следующие действия:

- В свертке `Cloud Provider & Region` выберите поставщика облачных услуг и регион или оставьте по умолчанию `AWS, N. Virginia (us-east-1)`.
- В свертке `Cluster Tier` настройте спецификации кластера или оставьте по умолчанию `M0 Sandbox (Shared RAM, 512 MB Storage)`.
- В свертке `Cluster Name` дайте кластеру имя или оставьте по умолчанию `Cluster0`.
- В нижней части экрана нажмите кнопку `Create Cluster`, а затем в окне с капчой выберите нужные изображения.
- На странице `Clusters` появится сообщение `Your cluster is being created - New clusters take between 1-3 minutes to provision` -- `Кластер создается - создание новых кластеров занимает 1-3 минут`. Прежде чем перейти к следующему шагу, дождитесь создания кластера.

## Создание нового пользователя в базе данных

- В левой панели в разделе `SECURITY` нажмите `Database Access`, появится окно `Create a Database User`.
- Внизу нажмите кнопку `Add New Database User`, появится всплывающее окно `Add New Database User`.
- В разделе `Password Authentication` введите имя пользователя и пароль, а затем в разделе `User Privileges` выберите `Read or write to any database`, не забудьте сохранить имя пользователя и пароль в безопасном месте.
- В правом нижнем углу всплывающего окна нажмите на кнопку `Add User`.

Примечание: Привилегии администратора можно получить в любое время, однако лучше предоставлять разрешения пользователю по мере необходимости из соображений безопасности.

## Белый список IP-адресов

Atlas разрешает подключение клиентов к кластеру только из белого списка. Список состоит из записей. Каждая запись должна быть либо одним IP-адресом, либо CIDR-диапазоном адресов. Чтобы задать белый список выполните следующее:

- В левой панели в разделе `SECURITY` нажмите `Network Access`, откроется страница `Network Access`.
- В центре экрана под надписью `Whitelist an IP address` нажмите кнопку `Add IP Address`, появится всплывающее окно `Add IP Whitelist Entry`. 
- Во всплывающем окне `Add IP Whitelist Entry` нажмите кнопку `ALLOW ACCESS FROM ANYWHERE`, в поле `Whitelist Entry:` появится значение `0.0.0.0/0`.
- В правом нижнем углу всплывающего окна нажмите кнопку `Confirm`.

## Подключение к кластеру

- В разделе `ATLAS` левой панели нажмите `Clusters`, откроется страница `Clusters`.
- в разделе `Sandbox` нажмите кнопку `CONNECT`, появится всплывающее окно `Connect to Cluster0`.
- Во всплывающем окне нажмите кнопку `Connect your application`, появится строка подключения URI, которая выглядит примерно так `mongodb+srv://Ivan:<password>@cluster0-ljp5h.mongodb.net/test?retryWrites=true&w=majority`, скопируйте эту строку, для этого нажмите на кнопку `Copy`.

Примечание: поля `user` и `cluster#-dbname` уже заполнены, замените поле <password> на пароль, который создан раньше.

Теперь URI добавьте в приложение для подключения к базе данных. URI  храните в надежном месте, чтобы использовать позже.

Для каждого приложения создавайте отдельную базу данных, если она требуется. Для этого в текущей учетной записи, создайте новый проект, постройте новый кластер, добавьте нового пользователя, белый список IP-адресов и подключитесь к кластеру, чтобы получить новый URI.






